# 站点与安全
SITE_NAME=AllYend
SECRET_KEY=please_change_me_to_a_random_string
ACCESS_TOKEN_EXPIRE_MINUTES=120
ALGORITHM=HS256

# 数据库（推荐 PostgreSQL；本地也可用 SQLite）
# PostgreSQL（生产推荐）：容器内使用服务名 db 访问
#POSTGRES_DB=allyend
#POSTGRES_USER=allyend
#POSTGRES_PASSWORD=allyend
#DATABASE_URL=postgresql+psycopg2://allyend:allyend@db:5432/allyend

# SQLite（本地快速试用，二选一）
DATABASE_URL=sqlite:///./data/app.db

# 服务器配置
HOST=0.0.0.0
PORT=9093
TIMEZONE=Asia/Shanghai
FRONTEND_ORIGINS=["http://localhost:3000","http://localhost:8080"]

# 日志查询频控（每账号每秒最大请求数）
LOG_QUERY_RATE_PER_SECOND=5

# 管理员 / 注册策略
ROOT_ADMIN_USERNAME=allroot
ROOT_ADMIN_PASSWORD=please_set_a_strong_password
ROOT_ADMIN_INVITE_CODE=ALLYEND-ROOT
DEFAULT_ADMIN_INVITE_CODE=ALLYEND-ADMIN
DEFAULT_USER_INVITE_CODE=
ALLOW_DIRECT_SIGNUP=true

# 文件存储目录
FILE_STORAGE_DIR=data/files
LOG_DIR=logs

# 告警通知渠道（可选，未配置则跳过对应渠道）
SMTP_HOST=
SMTP_PORT=587
SMTP_USERNAME=
SMTP_PASSWORD=
SMTP_USE_TLS=true
ALERT_EMAIL_SENDER=
ALERT_WEBHOOK_TIMEOUT=5

# 站点备案信息（可留空）
SITE_ICP=

# ---------- 前端编译 / 运行所需（Docker 构建会读取） ----------
NEXT_PUBLIC_API_BASE_URL=/api
NEXT_PUBLIC_APP_BASE_URL=http://localhost:8080

# ---------- Docker Compose 统一入口配置 ----------
# 暴露给外层代理的 HTTP 端口，可根据需要调整
DOCKER_PROXY_PORT=8080

# 宿主机挂载目录，支持相对路径或绝对路径
# data 目录同时包含 SQLite 数据库与上传文件
DOCKER_DATA_DIR=./data
DOCKER_LOG_DIR=./logs

# 启动等待数据库可用的超时（秒），仅用于容器启动前置脚本
#DB_WAIT_TIMEOUT=60

